---

import Layout from '../../layouts/ProjectPage.astro'
import Projectlist from '../../components/ProjectList.astro'

// this is for removing the global
// header and footer if the page is
// accessed by client side nav
// if this is not present, that means
// the page was accessed by the url
// directly so it should show header/footer
const { inline } = Astro.props

const json = await Astro.glob('/public/data/*.info.json')

const projects = json.map((id) => id.default)

//console.log('list from astro: '+ projects)
---
{inline ? 
    <Projectlist projects={projects} client:load />
    :
    <Layout>
      <Projectlist projects={projects} client:load />
    </Layout>
}
